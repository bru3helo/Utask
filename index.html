<html>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Utask3.0</title>
        <link rel="stylesheet" href="style.css">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;300&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;700&display=swap');
        </style>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet">
      </head>

    <body onload="exibirFraseAleatoria()">
        <header class="barra">
            <div class="container">
                <div class="logo">
                    <img src="[Imagem] Logo branca.png"> 
                </div>
                <div class="Utask">
                    Utask 3.0
                </div>    
                <button class="light" onclick="toggleDarkMode()">
                    <img src="[Botão] Light mode.png">
                </button>
            </div>
        </header>
        <div class="caixafrasecont">
            <div class="caixafrase">
                <div class="alinhar" onclick="exibirFraseAleatoriaPop()">
                    <div class="logolamp">
                    <img src="iconelampada.png">
                    </div>
                    <div id="frasebt">
                        Frase do dia
                    </div>
                </div>
                <div class="texto">
                        <p id="frase"></p>
                </div>
            </div>
        </div>

        <div id="Kanban">
            <section class="container3">
                <div class="linha">
                    <div class="fazer">A fazer</div>
                    <button id="addbt"> <img class="img" src="[Botão] Adicionar task.png"> </button>
                </div>
                
                <div class="caixa1" id="fazer">
                    <div id="scroll"></div>
                    
                </div>     
                </section>
            
            <section class="container4">
                <div class="andamento">Em andamento </div>
                <div class="caixa1" id="andamento"> </div>
            </section>
            
            <section class="container5">
                <div class="feito">Feito </div>
                <div class="caixa1" id="feito"></div>
            </section> 
        </div>

        <section class="carrossel">
            <button class="setaesquerda"><img src="navigate_before.png"></button>
            <ul class="slider">
                <li>
                    <section class="container3 slides" id="slide1">
                        <div class="linha">
                            <div class="fazer">A fazer</div>
                            <button class="addbt" id="btadd"> <img class="img" src="[Botão] Adicionar task.png"> </button>
                        </div>
                        
                        <div class="caixa1 " id="fazer">
                            <div id="scroll"></div>
                            
                        </div>     
                        </section>
                </li>
                <li>
                    <section class="container4 slides" id="slide2">
                        <div class="andamento">Em andamento </div>
                        <div class="caixa1" id="andamento"> </div>
                    </section>
                </li>
                <li>
                    <section class="container5 slides" id="slide3">
                        <div class="feito">Feito </div>
                        <div class="caixa1" id="feito"></div>
                    </section>
                </li>
            </ul>
            <button class="setadireita"><img src="navigate_next.png"></button>
        </section>
        
        <div class="branco"></div>
        
        <footer class="barra2">
            <div class="container2">
                <div class="processo">© Processo de Trainee Unect Jr. 2022.1</div>
                <div class="direita">
                    <div class="feitocom">Feito com </div>
                    <div ckass="favorite"><img src="favorite.png"></div>
                    <div class="Bruna"> Bruna Heloísa</div>
                </div>
                
            </div>
            
        </footer>
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                let carosseis = document.getElementsByClassName('slider')
                const setaesquerda = document.querySelector('.setaesquerda');
                const setadireita = document.querySelector('.setadireita');
                const slide1 = document.getElementById('slide1');
                const slide2 = document.getElementById('slide2');
                const slide3 = document.getElementById('slide3');

                setadireita.addEventListener('click', function() {
                    slide1.style.display = "none";
                    slide2.style.display = "flex";
                })
    
                setaesquerda.addEventListener('click', function() {
                    slide1.style.display = "flex";
                    slide2.style.display = "none";
                })
            });

        </script>

        <!-- POPUP DE TASK -->
        <div class="popup-wrapper">
            <div class="popup">
                <div class="popup-close">
                    <img class="btclose" src="[Botão] Fechar.png">
                </div>
    
                <div class="popup-content">
                    <h2 class="txtnovatask">Nova Task</h2>
                    <div class="bluebar"></div>
                    <div class="titulo">Título *</div>
                        <input class="campocinza1" id="inputtitulo"></input>
                    <div class="popdescricao">Descrição</div>
                        <input class="campocinza2" id="txtdescricao"></input>
                    <button class="btaddtask" id="criarTask" onclick="lista(contador)">Criar task</button>
                </div>
            </div>
        </div>
    
        <script>
            // Seleciona o botão de adicionar tarefa
            const addbt = document.getElementById("addbt");
            const btadd = document.getElementById("btadd")
            // Seleciona a div de popup
            const popup = document.querySelector(".popup-wrapper");
            // Seleciona o botão de fechar a popup
            const closebt = document.querySelector(".popup-close");
            // Adiciona evento de clique ao botão de adicionar tarefa para exibir a popup
            addbt.addEventListener("click", function() {
            popup.style.display = "block";
            });
            btadd.addEventListener("click", function() {
            popup.style.display = "block";
            });
            // Adiciona evento de clique ao botão de fechar a popup para escondê-la
            closebt.addEventListener("click", function() {
                popup.style.display = "none";
            });
            criarTask.addEventListener("click", function() {
                popup.style.display = "none";
            });
        </script>

        <div class="popup-frasedia" >
            <div class="popupfrase">
                <div class="popup-closefrase">
                    <img class="btclosefrase" src="[Botão] Fechar.png">
                </div>
    
                <div class="popup-contentfrase">
                    <div class="logolamppop">
                        <img src="iconelampada.png">
                    </div>
                    <div class="frasepop">Frase do dia</div>
                    <div id="popup-frasedia"></div>
                </div>
            </div>
        </div>

        <script>
            // Seleciona o botão de adicionar tarefa
            const frase = document.getElementById("frasebt");
            // Seleciona a div de popup
            const popupfrase = document.querySelector(".popup-frasedia");
            // Seleciona o botão de fechar a popup
            const btclosefrase = document.querySelector(".btclosefrase");
            // Adiciona evento de clique ao botão de adicionar tarefa para exibir a popup
            frase.addEventListener("click", function() {
            popupfrase.style.display = "block";
            });
            
            // Adiciona evento de clique ao botão de fechar a popup para escondê-la
            btclosefrase.addEventListener("click", function() {
            popupfrase.style.display = "none";
            });

        </script>

        <script>
            // Array com frases pre-cadastradas
            const frases = [
                "Se você quer um pedacinho do paraíso, acredite em Deus. Mas se você quer conquistar o mundo, acredite em você porque Deus já te deu tudo o que você precisa para você vencer.",
                "A felicidade não está em fazer o que a gente quer, e sim em querer o que a gente faz.",
                "O tempo é uma ilusão. O que realmente importa é o que fazemos com ele.",
                "Nunca é tarde demais para ser o que você poderia ter sido.",
                "O sucesso é ir de fracasso em fracasso sem perder entusiasmo.",
                "Faça hoje tão incrível que ontem tenha inveja.",
                "Cada novo dia é uma nova oportunidade de mudar sua vida.",
                "Não deixe para amanhã o que você pode fazer hoje.",
                "A vida é feita de escolhas. Faça escolhas sábias.",
                "Acredite em si mesmo e você será imparável.",
                "Não deixe seus medos controlarem sua vida. Enfrente-os e supere-os.",
                "A vida é curta demais para desperdiçar tempo com coisas que não importam.",
                "Foque no presente e construa um futuro melhor.",
                "Seja a mudança que você quer ver no mundo.",
                "Não há atalhos para o sucesso. Trabalhe duro e persevere.",
                "A felicidade não é algo pronto. Ela é algo que você constrói.",
                "A vida é uma aventura. Aproveite cada momento.",
                "Cada novo dia é uma nova oportunidade de aprender algo novo.",
                "Nunca desista dos seus sonhos. Lute por eles.",
                "O sucesso não é final, o fracasso não é fatal. O que importa é a coragem para continuar.",
                "A maior glória em viver não está em nunca cair, mas em se levantar a cada queda.",
                "Se você quer alcançar grandes coisas, você precisa começar com pequenos passos.",
                "O tempo é uma moeda que você pode gastar como quiser. Use-o com sabedoria.",
                "Se você está procurando por um milagre, comece por olhar no espelho.",
                "Não permita que o medo de fracassar o impeça de tentar.",

            ];

            // Função para exibir uma frase aleatória no elemento HTML
            function exibirFraseAleatoria() {
                const fraseAleatoria = frases[Math.floor(Math.random() * frases.length)];
                const elementoFrase = document.getElementById("frase");
                elementoFrase.innerHTML = fraseAleatoria;
            }
            function exibirFraseAleatoriaPop() {
                const fraseAleatoriapop = frases[Math.floor(Math.random() * frases.length)];
                const elementoFrasepop = document.getElementById("popup-frasedia");
                elementoFrasepop.innerHTML = fraseAleatoriapop;
            }
        </script>

        <script>
        let contadorExclusao = 0;
        let contadortasks = 0;
        let contador= 0;
        function lista(contador) {
            contadortasks++;
            console.log(contadortasks);
            const titulo = document.getElementById('inputtitulo');
            const valorTitulo = titulo.value;
            titulo.value = "";
            console.log(valorTitulo);
            const descricao = document.getElementById('txtdescricao');
            const valorDescricao = descricao.value;
            descricao.value = "";
            console.log(valorDescricao);

            const fazer = document.getElementById("fazer");
            const fazer2 =document.getElementById("slide1");
            const caixa = document.createElement('div');
            caixa.classList.add('task', `afazer-${contadortasks}`);
            fazer.appendChild(caixa);

            const cima = document.createElement('div');
            cima.classList.add('cima', `afazer-${contadortasks}`);
            caixa.appendChild(cima);

            const tit = document.createElement('div');
            tit.classList.add('tasktitilo', `afazer-${contadortasks}`);
            tit.innerHTML = valorTitulo;
            cima.appendChild(tit);

            const more = document.createElement('span');
            more.innerHTML = `<span class="material-icons afazer-${contadortasks}" id="more">more_vert</span>`;
            cima.appendChild(more);

            const baixo = document.createElement('div');
            baixo.classList.add('baixo', `afazer-${contadortasks}`);
            caixa.appendChild(baixo);

            const des = document.createElement('div');
            des.classList.add('descricao', `afazer-${contadortasks}`);
            des.innerHTML = "Ler descrição";
            baixo.appendChild(des);

            const expand = document.createElement('span');
            expand.innerHTML = `<span class="material-icons-outlined afazer-${contadortasks}" id="expand">expand_more</span>`;
            baixo.appendChild(expand);

            const prox = document.createElement('button');
            prox.classList.add('proximo');
            prox.id = `btproximo-${contador}`;
            baixo.appendChild(prox);

            const seta = document.createElement('span');
            seta.innerHTML = `<span class="material-icons-outlined afazer-${contadortasks}" id="seta">arrow_forward_ios</span>`;
            prox.appendChild(seta);

            prox.addEventListener('click', function() {
                const btnProximo = this; // Botão clicado (próximo)
                const divOrigem = btnProximo.closest('.task'); // Encontra a div de origem mais próxima
                const divDestino = document.getElementById('andamento');

                if (divOrigem) {
                    // Remove o botão anterior
                    const botaoAnterior = divOrigem.querySelector('.proximo');
                    if (botaoAnterior) {
                        botaoAnterior.parentNode.removeChild(botaoAnterior);
                    }

                    // Remove a task da seção de origem
                    divOrigem.parentNode.removeChild(divOrigem);

                    // Adiciona a task na seção de destino
                    divDestino.appendChild(divOrigem);
                    divOrigem.dataset.origem = 'andamento';

                    // Cria e adiciona o botão "Retornar"
                    const btreturn = document.createElement('button');
                    btreturn.classList.add('retornar');
                    btreturn.id = `btreturn-${contadortasks}`;
                    divOrigem.querySelector('.baixo').appendChild(btreturn);

                    const setareturn = document.createElement('span');
                    setareturn.innerHTML = `<span class="material-icons-outlined btreturn-${contadortasks}" id="setareturn">arrow_back_ios</span>`;
                    btreturn.appendChild(setareturn);

                    const btavancar = document.createElement('button');
                    btavancar.classList.add('proximo2');
                    btavancar.id = `btavancar-${contadortasks}`;
                    divOrigem.querySelector('.baixo').appendChild(btavancar);

                    const setaavancar = document.createElement('span');
                    setaavancar.innerHTML = `<span class="material-icons-outlined btavancar-${contadortasks}" id="setaavancar">arrow_forward_ios</span>`;
                    btavancar.appendChild(setaavancar);

                    // Adiciona a classe andamento-${contadortasks} a todos os itens
                    const items = divOrigem.querySelectorAll(`.afazer-${contadortasks}`);
                    items.forEach((item) => {
                        item.classList.add(`andamento-${contadortasks}`);
                    });
                }
            });
        }   
        </script>
    </body>
</html>